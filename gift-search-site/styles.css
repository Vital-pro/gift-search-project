@import "./src/styles/overlay.css";
@import "./src/styles/components/gift-card.css";
@import "./src/styles/layout.css";
@import "./src/styles/components/search-bar.css";
@import "./src/styles/base/variables.css";
@import "./src/styles/base/reset.css";
@import "./src/styles/base/utilities.css";
@import "./src/styles/components/parallax.css";
@import "./src/styles/components/to-top-button.css";
@import "./src/styles/components/loaders.css";
@import "./src/styles/sections/no-results.css";
@import "src/styles/components/load-more-button.css";
@import "./src/styles/components/tooltip.css";
@import "./src/styles/components/alternative-controls.css";
@import "./src/styles/base/responsive.css";
@import "./src/styles/themes/dark.css";
@import "./src/styles/components/telegram-cta.css";
@import "./src/styles/components/section-headers.css";
@import "./src/styles/components/navigation.css";
@import "./src/styles/sections/hero.css";
@import "./src/styles/components/search-hint.css";
@import "./src/styles/components/sort-button.css";


/* [theme-smooth] Мягкая смена темы без мерцаний */
header,
.glass-effect,
.search-block,
.search-float .search-block,
.gift-card,
.telegram-cta,
.telegram-cta-inline,
.footer,
.controls-grid,
.load-more-btn,
.no-results-content {
  transition:
    background-color .25s ease,
    color .25s ease,
    border-color .25s ease,
    box-shadow .25s ease,
    backdrop-filter .25s ease,
    -webkit-backdrop-filter .25s ease;
}

/* [glass] Чище стекло, меньше «мыла» */
.glass-effect {
  background: var(--glass-bg);
  backdrop-filter: saturate(112%) blur(14px);
  -webkit-backdrop-filter: saturate(112%) blur(14px);
  border: 1px solid var(--glass-border);
  box-shadow: var(--shadow-lg);
}

.search-input:focus {
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 0 3px var(--accent-light);
  transform: translateY(-2px);
}

.help-btn { width: 42px; height: 42px; font-size: 1.05rem; }
.help-btn:hover {
  border-color: var(--accent);
  color: var(--accent);
  transform: rotate(15deg);
}

/* Общие секции — [dedup] оставляем одно определение */
section { padding: 3rem 0; }

/* Поддержка reduced motion */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  .parallax-layer { display: none; }
}

/* Поддержка высоких контрастов */
@media (prefers-contrast: high) {
  :root { --border: var(--text-primary); }
  .search-input, .control-group input, .control-group select { border-width: 2px; }
}

/* [a11y] Более мягкий фокус с подсветкой (и в dark приятно выглядит) */
*:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
  border-radius: 6px;
  box-shadow: 0 0 0 4px color-mix(in oklab, var(--accent) 22%, transparent);
}

/* Современные CSS фичи */
@supports (backdrop-filter: blur(10px)) { .glass-effect { background: var(--glass-bg); } }

/* Динамический диапазон для HDR дисплеев */
@media (dynamic-range: high) {
  :root { --accent: color(display-p3 0.42 0.39 1); }
}

/* мягкое появление заголовка результатов */
@keyframes fadeInTitle {
  from { opacity: 0; transform: translateY(6px); }
  to   { opacity: 1; transform: translateY(0); }
}
.results-title-fade {
  font-size: 2.4rem;
  animation: fadeInTitle .28s ease-out both;
}

/* Стили для карточек "проверяем доступность" */
.gift-card--checking {
  opacity: 0.7;
  filter: grayscale(20%);
  transition: all 0.3s ease;
  cursor: not-allowed;
}

.gift-card--checking:hover {
  opacity: 0.9;
  filter: grayscale(10%);
}

.gift-buy-btn--checking {
  background-color: #6c757d !important;
  color: white !important;
  cursor: not-allowed !important;
  border: none !important;
  opacity: 0.8;
  transition: all 0.2s ease !important;
}

.gift-buy-btn--checking:hover {
  opacity: 1;
}
