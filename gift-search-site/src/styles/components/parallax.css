/*? Parallax фон START */

/* === ВАУ-PARALLAX: контрастный, насыщенный, 2025 === */
.parallax-scene {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  z-index: -1;
  pointer-events: none;
  perspective: 1px;
  transform-style: preserve-3d;
  overflow: hidden;
  background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
}

.parallax-layer {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  display: block;
  transform-style: flat;
  will-change: transform;
}

/* Глубина через translateZ */
.layer-bg       { transform: translateZ(-1px) scale(2); }
.layer-shape-1  { transform: translateZ(-2px) scale(3); }
.layer-shape-2  { transform: translateZ(-3px) scale(4); }
.layer-gift     { transform: translateZ(-4px) scale(5); }
.layer-shape-3  { transform: translateZ(-5px) scale(6); }

/* Фон — тёмный градиент */
.layer-bg {
  background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
}

/* Крупный пульсирующий круг — фиолетовый */
.layer-shape-1 {
  background: radial-gradient(circle at 30% 40%, #6c63ff 0%, transparent 60%);
  opacity: 0.8;
  animation: pulseBig 18s ease-in-out infinite alternate;
}

/* Волна — оранжево-голубая */
.layer-shape-2 {
  background: 
    radial-gradient(circle at 70% 30%, #ff7e5f 0%, transparent 50%),
    radial-gradient(circle at 20% 70%, #00c9ff 0%, transparent 50%);
  opacity: 0.9;
  animation: floatWave 22s ease-in-out infinite;
}

/* Подарок — увеличен, ярче */
.layer-gift {
  background-image: url("/assets/images/hero-gift.svg");
  background-size: clamp(180px, 20vw, 300px) auto;
  background-repeat: no-repeat;
  background-position: right 10% top 20%;
  opacity: 0.95;
  animation: floatGiftStrong 16s ease-in-out infinite;
}

/* Абстрактная лента — контрастная */
.layer-shape-3 {
  background: 
    linear-gradient(120deg, transparent 40%, #ff7e5f 50%, transparent 60%),
    linear-gradient(-120deg, transparent 40%, #00c9ff 50%, transparent 60%);
  opacity: 0.7;
  clip-path: polygon(0 30%, 100% 20%, 100% 80%, 0 70%);
  animation: driftRibbon 26s ease-in-out infinite alternate;
}

/* Анимации — сильные, заметные */
@keyframes pulseBig {
  0%, 100% { transform: translateZ(-2px) scale(3) translate(0, 0); opacity: 0.6; }
  50%      { transform: translateZ(-2px) scale(3.2) translate(20px, -30px); opacity: 0.9; }
}
@keyframes floatWave {
  0%, 100% { transform: translateZ(-3px) scale(4) translate(0, 0); }
  50%      { transform: translateZ(-3px) scale(4) translate(-40px, 20px); }
}
@keyframes floatGiftStrong {
  0%, 100% { transform: translateZ(-4px) scale(5) translate(0, 0) rotate(0); }
  50%      { transform: translateZ(-4px) scale(5) translate(-30px, -40px) rotate(8deg); }
}
@keyframes driftRibbon {
  0%   { transform: translateZ(-5px) scale(6) translate(0, 0); }
  100% { transform: translateZ(-5px) scale(6) translate(60px, -50px); }
}

/* Отключаем на мобильных и при reduced motion */
@media (max-width: 768px), (prefers-reduced-motion: reduce) {
  .parallax-scene { display: none; }
}

/*? Parallax фон END */


/* Анимации слоёв */
@keyframes floatBokeh {
  0%, 100% { transform: translate3d(0, 0, 0) scale(1); }
  50%  { transform: translate3d(0, -42px, 0) scale(1.08); }
}
@keyframes floatGift {
  0%, 100% { transform: translate3d(0, 0, 0) rotate(0); }
  50%  { transform: translate3d(-16px, -26px, 0) rotate(6deg); }
}

@keyframes morphing1 {
  0%, 100% {
    transform: translateY(0) scale(1);
    background: radial-gradient(circle at 20% 50%, rgba(102, 126, 234, 0.3) 0%, transparent 50%);
  }
  50% {
    transform: translateY(-50px) scale(1.1);
    background: radial-gradient(circle at 30% 60%, rgba(102, 126, 234, 0.4) 0%, transparent 55%);
  }
}
@keyframes morphing2 {
  0%, 100% {
    transform: translateY(0) scale(1);
    background: radial-gradient(circle at 80% 20%, rgba(118, 75, 162, 0.25) 0%, transparent 50%);
  }
  50% {
    transform: translateY(-30px) scale(1.15);
    background: radial-gradient(circle at 70% 30%, rgba(118, 75, 162, 0.35) 0%, transparent 55%);
  }
}
@keyframes morphing3 {
  0%, 100% {
    transform: translateY(0) scale(1);
    background: radial-gradient(circle at 50% 80%, rgba(108, 99, 255, 0.2) 0%, transparent 60%);
  }
  50% {
    transform: translateY(-40px) scale(1.2);
    background: radial-gradient(circle at 60% 70%, rgba(108, 99, 255, 0.3) 0%, transparent 65%);
  }
}


@keyframes gradientShift {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}