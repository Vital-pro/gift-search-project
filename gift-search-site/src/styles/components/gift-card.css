/* gift-search-site/src/styles/components/gift-card.css */
/* === Сетка и карточки подарков — 1:1 из текущего styles.css === */

/* Сетка подарков */
.gifts-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 1.5rem;
  margin-bottom: 2rem;
  /* [feature] Включаем контейнер-квери, чтобы заработал @container */
  container-type: inline-size;
}

/* Карточка подарка */
.gift-card {
  background: var(--bg-secondary);
  border-radius: 20px;
  overflow: hidden;
  border: 1px solid var(--border);
  cursor: pointer;
  position: relative;
  /* animation: fadeInUp 0.6s cubic-bezier(0.22, 1, 0.36, 1) both; */

  /* [perf] Ускоряем рендер длинных списков */
  content-visibility: auto;
  contain-intrinsic-size: 300px 420px;
  contain: content;
  transition: transform 0.3s ease !important;
}
.gift-card::before {
  content: '';
  position: absolute; inset: 0;
  background: var(--accent-gradient);
  opacity: 0; transition: opacity 0.4s ease; z-index: 0; pointer-events: none;
}
.gift-card:hover { transform: translateY(-12px) scale(1.02); box-shadow: 0 24px 64px rgba(0,0,0,0.75); border-color: transparent; 
  
}
.gift-card:hover::before { opacity: 0.05; }

.gift-card-image {
  width: 100%; height: auto; object-fit: cover; background: var(--bg-tertiary);
  display: flex; align-items: center; justify-content: center;
  font-size: 4rem; color: var(--text-muted); position: relative; overflow: hidden;
}
.gift-card-image img { width: 100%; height: 100%; object-fit: cover; aspect-ratio: 1/1; transition: transform 0.3s ease; }
.gift-card-img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s ease; }
.gift-card:hover .gift-card-img { transform: scale(1.05); }
.gift-card-image { position: relative; z-index: 1; }

.gift-card-body { padding: 1.5rem; position: relative; z-index: 1; }
.gift-card-title { 
  font-family: 'Montserrat', sans-serif;
  font-size: 1.5rem; font-weight: 600; margin-bottom: 0.5rem; color: var(--text-primary); line-height: 1.3; min-height: 62px; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;
  /* font-size: calc((1vw + 1vh)*.85); */
}
.gift-card-description {
  font-size: 0.9rem; color: var(--text-secondary); margin-bottom: 1rem; line-height: 1.5; min-height: 64px;
  display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden;
}
.gift-card-price { font-size: clamp(0.988rem, 0.321rem + 1.13vw, 1.313rem); line-height: 1.2; font-weight: 600; color: var(--accent); margin-bottom: 1rem; }
@media (max-width: 941px) {
  .gift-card-price { font-size: clamp(1.188rem, 0.349rem + 1.74vw, 1.375rem); }
}
@media (max-width: 768px) {
  .gift-card-price { font-size: clamp(1rem, 0.554rem + 2.23vw, 1.625rem); }
}

.gift-card-tags { display: flex; flex-wrap: wrap; gap: 0.5rem; margin-bottom: 1rem; }
.gift-tag {
  padding: 4px 10px; background: var(--accent-light); color: var(--accent);
  border-radius: 20px; font-size: 0.85rem; font-weight: 500;
}

@media (max-width: 1045px) and (min-width: 943px) {
  .gift-tag:nth-child(4) {display: none;}
}

.gift-card-footer {
  display: flex; justify-content: space-between; align-items: center;
  padding-top: 1rem; border-top: 1px solid var(--border);
}
.age-range { font-size: 0.9rem; color: var(--text-secondary); }
.category-badge {
  padding: 4px 12px; background: var(--bg-tertiary); border-radius: 8px;
  font-size: 0.85rem; color: var(--text-secondary); font-weight: 500;
}

/* Кнопка покупки внутри карточек */
.gift-buy-btn{
  display:inline-block; padding:.6rem 1rem; border-radius:12px; font-weight:600;
  text-decoration:none; border:1px solid rgba(0,0,0,.08); box-shadow:0 2px 6px rgba(0,0,0,.06);
}
[gift-buy-btn]:focus, .gift-buy-btn:focus{ outline:2px solid rgba(0,0,0,.2); outline-offset:2px; }

/* Container queries для карточек */
@container (min-width: 400px) {
  .gift-card { grid-template-columns: 150px 1fr; }
}


.gift-card--checking {
  opacity: 0.7;
  filter: grayscale(20%);
  transition: all 0.3s ease;
  cursor: not-allowed;
}

.gift-card--checking:hover {
  opacity: 0.9;
  filter: grayscale(10%);
  transition: all 0.2s ease !important;
}

.gift-card--checking:hover .gift-buy-btn--checking {
  background-color: #ff7e5f !important;
  opacity: 1;
  transition: all 0.3s ease !important;
}

.gift-buy-btn--checking {
  background-color: #6c757d !important;
  color: white !important;
  cursor: not-allowed !important;
  border: none !important;
  opacity: 0.8;
  transition: all 0.2s ease !important;
}

.gift-buy-btn--checking:hover {
  opacity: 1;
}

@media (max-width: 1210px) and (min-width: 943px) {
  /* .gift-card-title { font-size: calc((1vw + 1vh)*.98); } */
  .gift-card-title {
    font-size: clamp(1.2rem, 0.099rem + 1.87vw, 1.5rem);
    min-height: clamp(3.25rem, 0.957rem + 3.89vw, 3.875rem);
  }
}
@media (max-width: 1090px) {
  /* .gift-card-title { font-size: calc((1vw + 1vh)*.91); } */
}
@media (max-width: 992px) {
  /* .gift-card-title { font-size: calc((1vw + 1vh)*.85); } */
}
@media (max-width: 941px) {
  /* .gift-card-title { font-size: calc((1vw + 1vh)*1.3); } */
}
@media (max-width: 820px) {
  /* .gift-card-title { font-size: calc((1vw + 1vh)*1.23); } */
}
@media (max-width: 768px) {
  .gift-card-title { font-size: clamp(1.375rem, 1.196rem + 0.89vw, 1.625rem); min-height: 1rem;}
  .gift-card-description {min-height: 1rem; }
}
@media (max-width: 375px) {
  /* .gift-card-title { font-size: calc((1vw + 1vh)*1.5); } */
}
@media (max-width: 350px) {
  /* .gift-card-title { font-size: calc((1vw + 1vh)*1.42); } */
}
@media (max-width: 330px) {
  /* .gift-card-title { font-size: calc((1vw + 1vh)*1.365); } */
}
